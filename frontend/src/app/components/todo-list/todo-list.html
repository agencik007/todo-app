<div class="todo-app">
  <!-- Header -->
  <div class="todo-header">
    <h1 class="todo-title">
      <span>üìù Moja Lista Zada≈Ñ</span>
    </h1>
    <p class="todo-subtitle">ZarzƒÖdzaj swoimi zadaniami w prosty i efektywny spos√≥b</p>
  </div>

  <!-- Stats -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-value">{{ totalTodos() }}</div>
      <div class="stat-label">Wszystkie zadania</div>
    </div>
    <div class="stat-card">
      <div class="stat-value" style="color: #ea580c;">{{ pendingTodos().length }}</div>
      <div class="stat-label">Do wykonania</div>
    </div>
    <div class="stat-card">
      <div class="stat-value" style="color: #16a34a;">{{ completedTodos().length }}</div>
      <div class="stat-label">Uko≈Ñczone</div>
    </div>
  </div>

  <!-- Error Message -->
  @if (error()) {
    <div class="error-message">
      <div>
        <span class="error-text">{{ error() }}</span>
      </div>
      <button
        (click)="clearError()"
        class="error-close">
        ‚úï
      </button>
    </div>
  }

  <!-- Add Todo Button -->
  <div class="add-button-container">
    <button
      (click)="showCreateForm()"
      class="add-button">
      <span class="add-button-icon">+</span> Dodaj nowe zadanie
    </button>
  </div>

  <!-- Todo Form -->
  @if (showForm()) {
    <div class="form-container">
      <app-todo-form
        [todo]="editingTodo()"
        (save)="saveTodo($event)"
        (cancel)="hideForm()">
      </app-todo-form>
    </div>
  }

  <!-- Loading State -->
  @if (loading()) {
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <span class="loading-text">≈Åadowanie zada≈Ñ...</span>
    </div>
  }

  <!-- Todo List -->
  @if (!loading() && todos().length > 0) {
    <div class="todos-container">
      @for (todo of todos(); track todo.id) {
        <app-todo-item
          [todo]="todo"
          (toggleCompleted)="toggleTodoCompletion(todo)"
          (edit)="editTodo(todo)"
          (delete)="deleteTodo(todo)">
        </app-todo-item>
      }
    </div>
  }

  <!-- Empty State -->
  @if (!loading() && todos().length === 0) {
    <div class="empty-container">
      <div class="empty-icon">
        <span class="empty-icon-emoji">üìù</span>
      </div>
      <h3 class="empty-title">Brak zada≈Ñ</h3>
      <p class="empty-description">Nie masz jeszcze ≈ºadnych zada≈Ñ. Dodaj pierwsze zadanie, aby zaczƒÖƒá!</p>
      <button
        (click)="showCreateForm()"
        class="empty-button">
        Dodaj pierwsze zadanie
      </button>
    </div>
  }
</div>
